# Nikkei News Topics Scraper

日経新聞のアクセスランキング（総合）トップ10を取得するバッチツール

## 機能

- 日経新聞のアクセスランキングページから総合トップ10の記事を取得
- 各記事の詳細情報を取得（公開日、要約、タグなど）
- データをJSON形式で日別ファイルに保存（JST基準）
- URL重複チェック（同じ日に複数回実行しても重複しない）
- レート制限対応（1.5秒間隔でリクエスト）
- GitHub Actionsで定期実行可能

## セットアップ

```bash
npm install
```

## 使用方法

### ローカル実行

```bash
npm run fetch
```

### ビルド

```bash
npm run build
npm start
```

## データ構造

取得したデータは以下の構造で保存されます：

```json
{
  "timestamp": "2026-01-02T08:34:25+09:00",
  "articles": [
    {
      "title": "記事タイトル",
      "url": "https://www.nikkei.com/article/...",
      "publishDate": "2026年1月2日 5:00",
      "summary": "記事の要約テキスト...",
      "tags": ["#タグ1", "#タグ2"],
      "category": "カテゴリ名",
      "author": "著者名"
    }
  ]
}
```

**データフィールド:**
- `timestamp`: データ取得時刻（JST、ISO 8601形式）
- `articles`: 記事の配列

**記事フィールド:**
- `title`: 記事タイトル（必須）
- `url`: 記事URL（必須）
- `publishDate`: 公開日時（オプション）
- `summary`: 記事の要約（メタディスクリプション、オプション）
- `tags`: タグ/キーワード（最大5個、オプション）
- `category`: カテゴリ/シリーズ名（オプション）
- `author`: 著者名（オプション）

**重要な仕様:**
- タイムゾーン: JST（日本標準時）を使用
- 重複チェック: 同じ日に複数回実行しても、URLで重複チェックされ同じ記事は追加されません
- 制限事項: 日経新聞の記事は有料会員限定のため、本文全体の取得はできません。メタ情報とプレビューテキストのみ取得しています

## ファイル構成

- `data/YYYY-MM-DD.json` - 日別のランキングスナップショット（JST基準）
  - 同じ日に複数回実行した場合、新しい記事のみが追加されます
  - URLで重複チェックされるため、同じ記事が複数回保存されることはありません

## 今後の予定

- GitHub Actionsでの定期実行設定
- Vercelへのデプロイ
